## 2번째 팀 프로젝트

2번 째 팀프로젝트가 시작되었다. 매일 작성해야 했는데 팀 프로젝트에 집중하다가 매일 기록하는 것을 놓쳐버렸다..

그래도 늦게나마 기록해본다.

#### kafka로 chat 프로그램 만들기

이번 프로젝트는 kafka를 이용하여 채팅프로그램을 만드는 것이었다. 전에 독학하면서 문득 채팅프로그램은 어떻게 만드는지 궁금해서 구글링을 통해 만들어본 적은 있는데 kafka로 만든다고 생각하니 뭔가 잘 와닿지 않았다. 전에 만든 채팅프로그램은 socket을 이용해 만들었는데 kafka가 기본적으로 보낼 수 있고 받을 수 있어서 채팅프로그램으로 동작할 수 있겠지만, socket으로 만드는 것보다 쉽지 않을 것 같다는 생각이 들었다. Kafka의 경우 보내기만 하는 producer와 받기만 하는 consumer로 이루어져 있기 때문이다. 그것은 멀티스레드를 이용해 만들 수 있다는 것을 내가 졸업식 갔던 날 해봤다고 한다. 

먼저 요구사항을 작성했다. 전에 만들어본 경험 덕분에 부가적인 기능으로 뭔가 필요할지 생각하기 수월했다.

일단 만들어야 하는 프로그램의 요구사항은 다음과 같다.

- [ ] 업무 대화 기능
- [ ] 업무 대화 감사 기능 ( 검색, 대화 주제 통계 ) - zeppelin
- [ ] 영화 챗봇기능 ( @bot 파묘 감독은 누구야? )
- [ ] 시스템 챗봇기능 ( airflow JOB ... 성공 실패 )
- [ ] 일정 챗봇기능 ( 애자일 칸반 미팅 시간 입니다 )

추가적으로 중간에 대화명을 변경할 수 있으면 좋겠다는 생각이 들었고, 입장시/퇴장시 알림이 나타났으면 좋겠다는 생각을 했다. 그리고 단순하게 콘솔창이 아닌 깔끔한 UI에 대한 이야기도 나왔다.

이 정도의 요구사항을 기준으로 개발에 착수했다.

1일차에는 채팅기능을 구현하고 UI를 입히는 것으로 하루를 보낼 예정이었다. 그런데 UI에 가로막혀 하루를 모두 날려버렸다. UI로 사용하려고 했던 것은 streamlit이었는데 하루종일 연구해봐도 채팅기능과 streamlit을 연결할 수 없었다. 나중에 알게 된 바로는 streamlit이 bot과의 대화만을 지원하고 다중 이용자가 대화하는 것은 지원하지 않는다고 하는데, 사실 여전히 연구하면 될 것 같은 미련이 조금 남아있다. 그렇게 1일차는 아무것도 만들지 못하고 지나가버렸다. 나머지 기능도 모두 대화기능이 구현되어야 어떻게 할지 맞춰서 만들 수 있었기 때문이다.

2일차가 되었을 때는 아무것도 없이 1일을 소모해버렸기 때문에 UI는 포기하고 기능에 집중하기로 했다. 요구한 기능을 모두 구현하기에도 시간이 촉박할 수 있었기 때문이다. 그리고 각자 하나의 기능씩을 구현하였는데, 나는 airflow pipeline을 구축하는 것을 맡았다. 

![image](https://github.com/user-attachments/assets/7cf5f352-3482-4be0-b672-302d67ec389f)



### 정리

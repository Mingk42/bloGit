## firebase 살펴보기

#### firebase

google analytics를 살펴보기 위해 firebase를 사용해보았다. 과거에는 GA가 별도로 존재했는데 firebase로 병합되었다고 한다. 

firebase를 사용해보기 위해 먼저 firebase를 설치해주었다. docs에는 npm으로 설치하는 것을 먼저 소개하고 있는데 우리는 node.js가 설치되어 있지 않으므로 curl을 이용하여 설치하였다.

```bash
$ curl -sL https://firebase.tools | bash
```

그리고 나서 firebase 웹페이지에서 프로젝트를 만들어주었다. 프로젝트가 만들어지면 앱을 추가하여 시작하기 탭에서 웹을 선택해주었다. 그리고 웹 앱의 이름을 설정할 때 호스팅을 같이 설정하도록 체크해주었다. 아직 웹 앱이 없기 때문이다. 그 다음은 안내문구가 나오는 대로 따라해주면 된다.

```bash
$ firebase login    # google 로그인
$ firebase init     # 프로젝트 시작
$ firebase deploy --only hosting:<appName>  # 프로젝트 배포
```
그러면 firebase 웹의 콘솔창에서 배포된 것을 확인할 수 있다. 약간의 수정을 하고 다시 한 번 배포를 하면 이전 버전위로 누적되어 새로운 버전이 배포되는 것을 확인할 수 있다. 그리고 언제든 이전 버전으로 또는 다시 최종버전으로 롤백할 수 있도록 지원하는데 이는 강사님도 말했지만 아주 엄청난 기능이다. 

이전에 재직중일 때 홈페이지에 수정사항을 적용하기 위해서 항상 서버가 중단 될 것이라는 안내문을 배포하고 서버를 하나씩 내렸다가 올리는 방식으로 작업을 했었다. 그 과정에서 오류가 발생하는 경우에 서버가 부팅되지 않기도 했다. 

그런데 firebase는 서버를 재기동하지 않고 바로 수정사항을 적용할 수 있고 원한다면 언제든 자유자재로 롤백도 할 수 있는 것이다. 실로 엄청난 기능이다. 

정적인 페이지를 배포하긴 했지만 방문자가 없어서 analytics에서 볼 수 있는 것은 많지 않았다. 그래서 다른 것을 해보았다.

#### 웹사이트 진단하기

naver search advisor나 google search console을 이용해서 우리가 배포한 페이지가 얼마나 웹 표준을 잘 지키고 있는지 검사해보고 지적사항을 조치해보는 것이다.

naver에서 간단점검 결과 robots.txt와 관련된 사항과 open graph 관련된 사항에서 지적사항이 있어 해당 부분을 docs에 맞춰서 조치하였다.

### 정리

오늘은 간단하게 firebase를 알아보았다. 이야기는 간혹 들었는데 사용해보니 좋았다. 특히 호스팅을 지원하는 점이 좋았다. 전에는 fly.io를 많이 사용했는데 필요하면 한 번 써볼 것 같다.

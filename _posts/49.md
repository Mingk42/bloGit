## caching (2)

#### caching (2)

오늘도 어제에 이어서 캐시를 이용한 부하테스트를 진행하였다. 어제와 다른 점이 있다면, 어제는 캐시의 유무를 비교하여 테스트를 진행했다면 오늘은 캐시의 시간에 따른 테스트를 진행하였다.

일단 결과부터 확인해보자. 

<img src="https://github.com/user-attachments/assets/3fe9d6fd-cbc3-48d9-b1f7-080a90ee3f60" width="75%"/>
<img src="https://github.com/user-attachments/assets/0022eb61-9447-467c-9c30-e1466bb94807" width="75%"/>

2번의 테스트 모두 2agent, 5 processor, 70 thread로 총 700 가상유저가 동시접속하는 상황으로 진행되었다. 1번 째 테스트는 캐시 시간(proxy_cache_valid)이 5초일 때와 10초일 때를 비교하였고, 2번 째 테스트는 캐시 시간이 30초일 때와 60초일 때를 비교하였다. 그리고 테스트 결과는 예상과 다르게 캐시 시간이 2배가 되어도 성능에 큰 차이를 보이지는 않았다. 오히려 MTT는 늘어나는 경향을 보이기도 하였는데 agent로 사용된 환경에서 다른 프로그램이 돌아가고 있었던 것은 아닌지, 온전하게 성능 테스트를 진행할 수 있는 환경이었는지 확인해볼 필요가 있을 것 같다. 다만, MTTFB(Mean Time to First Byte, 첫 바이트가 도달하는데 걸리는 평균시간)으로 보면 캐시시간이 2배로 늘어난 경우 더 안정된 그래프를 보이는 것을 확인할 수 있다.


또, 한 가지 더 알아볼 만한 것이 있다.

지금까지 proxy_cache_valid 옵션을 조절하면서 테스트를 진행하였는데, 어제 캐시 설정을 했던 것을 확인해보면 

### 정리
